<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—„ë§ˆì˜ ì†Œë…€ì‹œì ˆ ê½ƒ-MBTI | ìš°ë¦¬ ì—„ë§ˆëŠ” ì–´ë–¤ ì¹œêµ¬ì˜€ì„ê¹Œ?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .serif {
            font-family: 'Noto Serif KR', serif;
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .gentle-shadow {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        .warm-gradient {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-rose-50 to-amber-50 min-h-screen flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-lg mx-auto bg-white rounded-3xl gentle-shadow p-6 sm:p-8 text-center transition-all duration-500">

        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="fade-in">
            <div class="w-40 h-40 mx-auto mb-6 rounded-full overflow-hidden gentle-shadow warm-gradient flex items-center justify-center">
                <span style="font-size: 80px;">ğŸŒ¸</span>
            </div>
            <h1 class="text-3xl font-bold text-gray-800 mb-3 serif">ì—„ë§ˆì˜ ì†Œë…€ì‹œì ˆ</h1>
            <p class="text-xl text-rose-600 font-semibold mb-4">ê½ƒ-MBTI</p>
            <p class="text-gray-600 mb-8 leading-relaxed">
                ìš°ë¦¬ ì—„ë§ˆê°€ ë‚˜ì™€ ê°™ì€ ë‚˜ì´ì˜€ì„ ë•Œ,<br>
                ì–´ë–¤ ì¹œêµ¬ì˜€ì„ê¹Œìš”?<br>
                <span class="text-sm text-gray-500 mt-2 block">ì—„ë§ˆì˜ ì Šì€ ì‹œì ˆì„ ìƒìƒí•˜ë©° ë‹µí•´ë³´ì„¸ìš”</span>
            </p>
            <button onclick="startQuiz()" class="w-full bg-gradient-to-r from-rose-400 to-pink-400 hover:from-rose-500 hover:to-pink-500 text-white font-bold py-4 px-6 rounded-2xl gentle-shadow transition-all duration-300 transform hover:scale-105">
                ì—„ë§ˆì˜ ì´ì•¼ê¸° ì‹œì‘í•˜ê¸°
            </button>
            <p class="text-xs text-gray-400 mt-6">ğŸ’Œ ê²°ê³¼ë¥¼ ì—„ë§ˆì™€ ê³µìœ í•´ë³´ì„¸ìš”</p>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="hidden">
            <div class="mb-6">
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div id="progress-bar" class="bg-gradient-to-r from-rose-400 to-pink-400 h-2 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
                <p id="question-number" class="text-sm text-gray-500 mt-2"></p>
            </div>
            <div class="mb-6 p-4 bg-amber-50 rounded-2xl">
                <p class="text-sm text-amber-700 mb-2">ğŸ’­ ìƒìƒí•´ë³´ì„¸ìš”</p>
                <h2 id="question" class="text-xl font-bold text-gray-800 leading-relaxed"></h2>
            </div>
            <div id="answers" class="space-y-3">
                <!-- ë‹µë³€ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- í¸ì§€ ì‘ì„± í™”ë©´ -->
        <div id="letter-screen" class="hidden fade-in">
            <div class="w-32 h-32 mx-auto mb-6 rounded-full overflow-hidden gentle-shadow bg-gradient-to-br from-pink-100 to-rose-100 flex items-center justify-center">
                <span style="font-size: 60px;">ğŸ’Œ</span>
            </div>
            <h2 class="text-2xl font-bold text-gray-800 mb-4 serif">ë§ˆì§€ë§‰ ì§ˆë¬¸</h2>
            <p class="text-gray-600 mb-6">ì—„ë§ˆì—ê²Œ ì „í•˜ê³  ì‹¶ì€ í•œ ë§ˆë””ë¥¼<br>ì§§ê²Œ ë‚¨ê²¨ì£¼ì„¸ìš”</p>
            <textarea 
                id="letter-input" 
                class="w-full p-4 border-2 border-rose-200 rounded-xl focus:border-rose-400 focus:outline-none resize-none"
                rows="3"
                placeholder="ì—„ë§ˆ, í•­ìƒ ê³ ë§ˆì›Œìš”..."
                maxlength="100"
            ></textarea>
            <p class="text-xs text-gray-400 mt-2">ì„ íƒì‚¬í•­ì´ì—ìš”. ê±´ë„ˆë›°ì–´ë„ ì¢‹ì•„ìš”!</p>
            <button onclick="showResult()" class="mt-6 w-full bg-gradient-to-r from-rose-400 to-pink-400 text-white font-bold py-3 px-4 rounded-2xl gentle-shadow">
                ê²°ê³¼ ë³´ê¸°
            </button>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="hidden">
            <p class="text-rose-500 font-semibold mb-2 text-sm">ìš°ë¦¬ ì—„ë§ˆì˜ ì†Œë…€ì‹œì ˆì€...</p>
            <h1 id="result-title" class="text-3xl font-bold text-gray-800 mb-4 serif"></h1>
            
            <!-- ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ - ë‘¥ê·¼ ëª¨ì„œë¦¬ ì ìš© -->
            <div class="w-72 h-72 mx-auto mb-6 rounded-full overflow-hidden gentle-shadow bg-gradient-to-br from-rose-100 to-amber-100">
                <img id="result-image" src="" alt="" class="w-full h-full object-cover">
            </div>
            
            <div class="bg-gradient-to-br from-rose-50 to-amber-50 rounded-2xl p-6 mb-6 text-left">
                <h3 class="font-bold text-gray-800 mb-3 text-center">ğŸ’ ì—„ë§ˆëŠ” ì´ëŸ° ì¹œêµ¬ì˜€ì–´ìš”</h3>
                <div id="result-description" class="space-y-3 text-gray-700">
                    <!-- ì„¤ëª…ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <div id="letter-display" class="hidden mb-6 p-4 bg-white rounded-2xl border-2 border-rose-200">
                <p class="text-sm text-gray-500 mb-2">ğŸ’Œ ë‚˜ì˜ ë©”ì‹œì§€</p>
                <p id="letter-content" class="text-gray-700 italic"></p>
            </div>

            <div class="space-y-3">
                <button onclick="shareWithMom()" class="w-full bg-gradient-to-r from-rose-400 to-pink-400 text-white font-bold py-3 px-4 rounded-2xl gentle-shadow flex items-center justify-center gap-2">
                    <span>ğŸ’</span>
                    <span>ì—„ë§ˆì—ê²Œ ê²°ê³¼ ê³µìœ í•˜ê¸°</span>
                </button>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="copyLink()" class="bg-amber-100 hover:bg-amber-200 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200">
                        ë§í¬ ë³µì‚¬
                    </button>
                    <button onclick="restartQuiz()" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200">
                        ë‹¤ì‹œí•˜ê¸°
                    </button>
                </div>
            </div>
            
            <div class="mt-8 p-4 bg-amber-50 rounded-xl">
                <p class="text-sm text-amber-700">
                    ğŸ’¡ ì—„ë§ˆì™€ í•¨ê»˜ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”<br>
                    "ì—„ë§ˆëŠ” ì •ë§ ì´ëŸ° ì¹œêµ¬ì˜€ì–´?"
                </p>
            </div>
        </div>

    </div>

    <script>
        // í€´ì¦ˆ ë°ì´í„° - ì—„ë§ˆì˜ ì Šì€ ì‹œì ˆì„ ìƒìƒí•˜ëŠ” ì§ˆë¬¸ë“¤
        const quizData = [
            {
                question: "í•™êµì—ì„œ ìš°ë¦¬ ì—„ë§ˆëŠ” ì–´ë–¤ í•™ìƒì´ì—ˆì„ ê²ƒ ê°™ë‚˜ìš”?",
                answers: [
                    { text: "ë°˜ì¥ì´ë‚˜ ë¶€ë°˜ì¥ì„ ë§¡ì•˜ì„ ê²ƒ ê°™ì•„ìš”", type: "leader" },
                    { text: "ì¡°ìš©íˆ ê³µë¶€ ì˜í•˜ëŠ” ëª¨ë²”ìƒì´ì—ˆì„ ê²ƒ ê°™ì•„ìš”", type: "gentle" },
                    { text: "ì¹œêµ¬ë“¤ê³¼ ìˆ˜ë‹¤ ë– ëŠ” ê±¸ ì¢‹ì•„í–ˆì„ ê²ƒ ê°™ì•„ìš”", type: "social" },
                    { text: "ì„ ìƒë‹˜ ëª°ë˜ ì¥ë‚œì¹˜ëŠ” ê°œêµ¬ìŸì´ì˜€ì„ ê²ƒ ê°™ì•„ìš”", type: "playful" }
                ]
            },
            {
                question: "ì£¼ë§ì— ìš°ë¦¬ ì—„ë§ˆëŠ” ë­˜ í•˜ë©° ì‹œê°„ì„ ë³´ëƒˆì„ê¹Œìš”?",
                answers: [
                    { text: "ì§‘ì—ì„œ ì±…ì„ ì½ê±°ë‚˜ ì¼ê¸°ë¥¼ ì¼ì„ ê²ƒ ê°™ì•„ìš”", type: "gentle" },
                    { text: "ì¹œêµ¬ë“¤ê³¼ ë§Œë‚˜ì„œ ë†€ëŸ¬ ë‹¤ë…”ì„ ê²ƒ ê°™ì•„ìš”", type: "social" },
                    { text: "ê°€ì¡± ì¼ì„ ë„ìš°ë©° ì‹œê°„ì„ ë³´ëƒˆì„ ê²ƒ ê°™ì•„ìš”", type: "leader" },
                    { text: "í˜¼ìë§Œì˜ ì·¨ë¯¸ ìƒí™œì„ ì¦ê²¼ì„ ê²ƒ ê°™ì•„ìš”", type: "playful" }
                ]
            },
            {
                question: "ì¹œêµ¬ê°€ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ, ìš°ë¦¬ ì—„ë§ˆëŠ”?",
                answers: [
                    { text: "ë”°ëœ»í•˜ê²Œ ìœ„ë¡œí•˜ê³  ê³µê°í•´ì¤¬ì„ ê²ƒ ê°™ì•„ìš”", type: "gentle" },
                    { text: "í˜„ì‹¤ì ì¸ ì¡°ì–¸ê³¼ í•´ê²°ì±…ì„ ì œì‹œí–ˆì„ ê²ƒ ê°™ì•„ìš”", type: "leader" },
                    { text: "ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë¡œ ê¸°ë¶„ì„ í’€ì–´ì¤¬ì„ ê²ƒ ê°™ì•„ìš”", type: "playful" },
                    { text: "í•¨ê»˜ ë§›ìˆëŠ” ê±¸ ë¨¹ìœ¼ëŸ¬ ê°”ì„ ê²ƒ ê°™ì•„ìš”", type: "social" }
                ]
            },
            {
                question: "ì²«ì‚¬ë‘ì´ ìƒê²¼ì„ ë•Œ, ìš°ë¦¬ ì—„ë§ˆëŠ” ì–´ë• ì„ê¹Œìš”?",
                answers: [
                    { text: "ìˆ˜ì¤ì–´í•˜ë©° ë§ˆìŒì†ìœ¼ë¡œë§Œ ê°„ì§í–ˆì„ ê²ƒ ê°™ì•„ìš”", type: "gentle" },
                    { text: "ì¹œêµ¬ë“¤ì—ê²Œë§Œ ì‚´ì§ í„¸ì–´ë†¨ì„ ê²ƒ ê°™ì•„ìš”", type: "social" },
                    { text: "ë‹¹ë‹¹í•˜ê²Œ ë¨¼ì € ë‹¤ê°€ê°”ì„ ê²ƒ ê°™ì•„ìš”", type: "leader" },
                    { text: "ì„¤ë ˆëŠ” ë§ˆìŒì„ ì¼ê¸°ì¥ì— ê°€ë“ ì ì—ˆì„ ê²ƒ ê°™ì•„ìš”", type: "playful" }
                ]
            },
            {
                question: "ìš°ë¦¬ ì—„ë§ˆê°€ ê°€ì¥ ì†Œì¤‘í•˜ê²Œ ìƒê°í–ˆë˜ ê²ƒì€?",
                answers: [
                    { text: "ê°€ì¡±ê³¼ í•¨ê»˜í•˜ëŠ” ë”°ëœ»í•œ ì‹œê°„", type: "gentle" },
                    { text: "ì¹œêµ¬ë“¤ê³¼ì˜ ìš°ì •ê³¼ ì¶”ì–µ", type: "social" },
                    { text: "ìì‹ ì˜ ê¿ˆê³¼ ëª©í‘œ", type: "leader" },
                    { text: "ì‘ì€ ì¼ìƒì˜ í–‰ë³µë“¤", type: "playful" }
                ]
            }
        ];

        // ê²°ê³¼ ë°ì´í„° - ì—¬ê¸°ì— ì‹¤ì œ ì´ë¯¸ì§€ íŒŒì¼ëª…ì„ ë„£ì–´ì£¼ì„¸ìš”!
        const results = {
            gentle: {
                title: "ë”°ëœ»í•œ ì§„ë‹¬ë˜",
                image: "images/sunflower.png", // ğŸ‘ˆ ì—¬ê¸°ì— ì‹¤ì œ íŒŒì¼ëª…ì„ ë„£ì–´ì£¼ì„¸ìš”
                description: [
                    "ìš°ë¦¬ ì—„ë§ˆëŠ” ëŠ˜ ë‹¤ë¥¸ ì‚¬ëŒì„ ë¨¼ì € ìƒê°í•˜ëŠ” ë”°ëœ»í•œ ì¹œêµ¬ì˜€ì–´ìš”.",
                    "ì¡°ìš©í•˜ì§€ë§Œ ê¹Šì€ ë§ˆìŒì„ ê°€ì§„ ì—„ë§ˆëŠ”, ì¹œêµ¬ë“¤ì˜ ë§ˆìŒì„ ëˆ„êµ¬ë³´ë‹¤ ì˜ ì´í•´í•´ì£¼ì—ˆì„ ê±°ì˜ˆìš”.",
                    "ì–´ë ¤ìš´ ì¼ì´ ìˆì„ ë•Œë©´ ì—„ë§ˆë¥¼ ì°¾ì•„ê°€ëŠ” ì¹œêµ¬ë“¤ì´ ë§ì•˜ì„ ê²ƒ ê°™ì•„ìš”.",
                    "ì§€ê¸ˆë„ ì—„ë§ˆì˜ ë”°ëœ»í•œ ë§ˆìŒì€ ìš°ë¦¬ ê°€ì¡±ì„ ê°ì‹¸ì£¼ê³  ìˆì£ .",
                    "ì—„ë§ˆì˜ ì Šì€ ë‚ ì˜ ìˆœìˆ˜í•¨ê³¼ ë”°ëœ»í•¨ì€ ì§€ê¸ˆë„ ê·¸ëŒ€ë¡œì¸ ê²ƒ ê°™ì•„ìš”."
                ]
            },
            social: {
                title: "í™œë°œí•œ ê°œë‚˜ë¦¬",
                image: "images/forsythia.png", // ğŸ‘ˆ ì—¬ê¸°ì— ì‹¤ì œ íŒŒì¼ëª…ì„ ë„£ì–´ì£¼ì„¸ìš”
                description: [
                    "ìš°ë¦¬ ì—„ë§ˆëŠ” ì–´ë””ì„œë‚˜ ë¶„ìœ„ê¸°ë¥¼ ë°ê²Œ ë§Œë“œëŠ” í•´í”¼ë°”ì´ëŸ¬ìŠ¤ ê°™ì€ ì¹œêµ¬ì˜€ì–´ìš”.",
                    "ëŠ˜ ì›ƒìŒì´ ê°€ë“í–ˆë˜ ì—„ë§ˆ ì£¼ë³€ì—ëŠ” í•­ìƒ ì¹œêµ¬ë“¤ì´ ëª¨ì—¬ë“¤ì—ˆì„ ê±°ì˜ˆìš”.",
                    "ì§€ë£¨í•œ ì¼ìƒë„ ì—„ë§ˆì™€ í•¨ê»˜ë¼ë©´ íŠ¹ë³„í•œ ì¶”ì–µì´ ë˜ì—ˆì„ ê²ƒ ê°™ì•„ìš”.",
                    "ì¹œêµ¬ë“¤ì˜ ìƒì¼ì´ë‚˜ ê¸°ë…ì¼ì„ ëˆ„êµ¬ë³´ë‹¤ ì˜ ì±™ê¸°ëŠ” ë‹¤ì •í•œ ì¹œêµ¬ì˜€ì„ ê±°ì˜ˆìš”.",
                    "ì—„ë§ˆì˜ ë°ì€ ì—ë„ˆì§€ëŠ” ì§€ê¸ˆë„ ìš°ë¦¬ ê°€ì¡±ì˜ í° í˜ì´ ë˜ê³  ìˆì–´ìš”."
                ]
            },
            leader: {
                title: "ë‹¹ë‹¹í•œ ì¥ë¯¸",
                image: "images/rose.png", // ğŸ‘ˆ ì—¬ê¸°ì— ì‹¤ì œ íŒŒì¼ëª…ì„ ë„£ì–´ì£¼ì„¸ìš”
                description: [
                    "ìš°ë¦¬ ì—„ë§ˆëŠ” ëŠ˜ ì•ì¥ì„œì„œ ì´ë„ëŠ” ë¦¬ë”ì‹­ ìˆëŠ” ì¹œêµ¬ì˜€ì–´ìš”.",
                    "ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ ì¹¨ì°©í•˜ê²Œ í•´ê²°ì±…ì„ ì°¾ì•„ë‚´ëŠ” ë¯¿ìŒì§í•œ ì¹œêµ¬ì˜€ì„ ê±°ì˜ˆìš”.",
                    "ë¶ˆì˜ë¥¼ ë³´ë©´ ì°¸ì§€ ëª»í•˜ê³  ë‚˜ì„œëŠ” ì •ì˜ë¡œìš´ ë§ˆìŒì„ ê°€ì¡Œì„ ê²ƒ ê°™ì•„ìš”.",
                    "ì¹œêµ¬ë“¤ ì‚¬ì´ì—ì„œ 'ì–¸ë‹ˆ' ê°™ì€ ì¡´ì¬ë¡œ ëª¨ë‘ë¥¼ ë³´ì‚´íˆì„ ê±°ì˜ˆìš”.",
                    "ì—„ë§ˆì˜ ê°•ì¸í•¨ê³¼ ë¦¬ë”ì‹­ì€ ìš°ë¦¬ì—ê²Œ í° ê°€ë¥´ì¹¨ì´ ë˜ê³  ìˆì–´ìš”."
                ]
            },
            playful: {
                title: "ììœ ë¡œìš´ ë¯¼ë“¤ë ˆ",
                image: "images/cherry.png", // ğŸ‘ˆ ì—¬ê¸°ì— ì‹¤ì œ íŒŒì¼ëª…ì„ ë„£ì–´ì£¼ì„¸ìš”
                description: [
                    "ìš°ë¦¬ ì—„ë§ˆëŠ” ììœ ë¡œìš´ ì˜í˜¼ì„ ê°€ì§„ íŠ¹ë³„í•œ ì¹œêµ¬ì˜€ì–´ìš”.",
                    "ë‚¨ë“¤ê³¼ëŠ” ë‹¤ë¥¸ ë…íŠ¹í•œ ì‹œê°ìœ¼ë¡œ ì„¸ìƒì„ ë°”ë¼ë³´ëŠ” ì˜ˆìˆ ê°€ ê°™ì€ ì¹œêµ¬ì˜€ì„ ê±°ì˜ˆìš”.",
                    "ì‘ì€ ê²ƒì—ì„œë„ ê¸°ì¨ì„ ì°¾ê³ , ì¼ìƒì„ íŠ¹ë³„í•˜ê²Œ ë§Œë“œëŠ” ì¬ì£¼ê°€ ìˆì—ˆì„ ê²ƒ ê°™ì•„ìš”.",
                    "ì—„ë§ˆë§Œì˜ ê°œì„±ê³¼ ììœ ë¡œì›€ì€ ì¹œêµ¬ë“¤ì—ê²Œ ì‹ ì„ í•œ ì˜ê°ì„ ì£¼ì—ˆì„ ê±°ì˜ˆìš”.",
                    "ì—„ë§ˆì˜ ì°½ì˜ì ì´ê³  ììœ ë¡œìš´ ë§ˆìŒì€ ìš°ë¦¬ì—ê²Œë„ ì „í•´ì§€ê³  ìˆì–´ìš”."
                ]
            }
        };

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let userLetter = "";

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const letterScreen = document.getElementById('letter-screen');
        const resultScreen = document.getElementById('result-screen');
        const progressBar = document.getElementById('progress-bar');
        const questionEl = document.getElementById('question');
        const questionNumberEl = document.getElementById('question-number');
        const answersEl = document.getElementById('answers');

        function startQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            userLetter = "";
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('fade-in');
            showQuestion();
        }

        function showQuestion() {
            const currentQuiz = quizData[currentQuestionIndex];
            const progress = ((currentQuestionIndex) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            questionNumberEl.textContent = `${currentQuestionIndex + 1} / ${quizData.length}`;
            questionEl.textContent = currentQuiz.question;
            answersEl.innerHTML = '';
            
            currentQuiz.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = "w-full bg-white hover:bg-rose-50 text-gray-700 text-left p-4 rounded-xl border-2 border-gray-200 hover:border-rose-300 transition-all duration-200";
                button.innerHTML = `
                    <span class="block font-medium">${answer.text}</span>
                `;
                button.onclick = () => selectAnswer(answer.type);
                answersEl.appendChild(button);
            });
        }

        function selectAnswer(type) {
            userAnswers.push(type);
            currentQuestionIndex++;
            
            if (currentQuestionIndex < quizData.length) {
                const progress = ((currentQuestionIndex) / quizData.length) * 100;
                progressBar.style.width = `${progress}%`;
                showQuestion();
            } else {
                progressBar.style.width = '100%';
                setTimeout(() => {
                    quizScreen.classList.add('hidden');
                    letterScreen.classList.remove('hidden');
                }, 500);
            }
        }

        function getResultType() {
            const counts = {};
            userAnswers.forEach(answer => {
                counts[answer] = (counts[answer] || 0) + 1;
            });
            return Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
        }

        function showResult() {
            userLetter = document.getElementById('letter-input').value;
            const resultType = getResultType();
            const result = results[resultType];
            
            document.getElementById('result-title').textContent = result.title;
            
            // ì´ë¯¸ì§€ í‘œì‹œ
            const resultImage = document.getElementById('result-image');
            resultImage.src = result.image;
            resultImage.alt = result.title;
            
            // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬
            resultImage.onerror = function() {
                this.parentElement.innerHTML = `
                    <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-rose-200 to-amber-200">
                        <div class="text-center">
                            <span style="font-size: 120px;">ğŸŒ¸</span>
                            <p class="mt-2 text-gray-600">ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ì–´ìš”</p>
                        </div>
                    </div>
                `;
            };
            
            const descriptionContainer = document.getElementById('result-description');
            descriptionContainer.innerHTML = '';
            result.description.forEach(desc => {
                const p = document.createElement('p');
                p.className = "flex items-start";
                p.innerHTML = `<span class="mr-2">â€¢</span><span>${desc}</span>`;
                descriptionContainer.appendChild(p);
            });
            
            if (userLetter) {
                document.getElementById('letter-display').classList.remove('hidden');
                document.getElementById('letter-content').textContent = userLetter;
            }
            
            letterScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            resultScreen.classList.add('fade-in');
        }

        function shareWithMom() {
            const resultType = getResultType();
            const result = results[resultType];
            const shareText = `ì—„ë§ˆ! ë‚˜ "ì—„ë§ˆì˜ ì†Œë…€ì‹œì ˆ ê½ƒ-MBTI" í…ŒìŠ¤íŠ¸ í•´ë´¤ì–´ìš”!\n\nê²°ê³¼: ${result.title}\n\n${userLetter ? `ê·¸ë¦¬ê³  ì—„ë§ˆì—ê²Œ: "${userLetter}"\n\n` : ''}ì—„ë§ˆë„ í•œë²ˆ í•´ë³´ì„¸ìš”! ğŸ’`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ì—„ë§ˆì˜ ì†Œë…€ì‹œì ˆ ê½ƒ-MBTI',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                copyToClipboard(shareText);
                alert('ë©”ì‹œì§€ê°€ ë³µì‚¬ë˜ì—ˆì–´ìš”! ì—„ë§ˆì—ê²Œ ë³´ë‚´ì£¼ì„¸ìš” ğŸ’Œ');
            }
        }

        function copyLink() {
            copyToClipboard(window.location.href);
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'âœ… ë³µì‚¬ë¨!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }

        function copyToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
        }

        function restartQuiz() {
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            startScreen.classList.add('fade-in');
        }
    </script>
</body>
</html>
